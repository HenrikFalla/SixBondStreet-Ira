{% if product.metafields.product_data.product_page_video_id %}
    {%- render "product_video" with
        product: product,
        heading: section.settings.video_heading,
        subheading: section.settings.video_subheading,
        image: section.settings.video_image,
        opacity_overlay: section.settings.video_opacity_overlay,
        color_overlay: section.settings.video_color_overlay,
        color_text: section.settings.video_color_text,
        opacity: section.settings.opacity_overlay | divided_by: 100.0
    -%} 
    <style>
        #shopify-section-{{ section.id }} {
            margin: auto;
            justify-content: center;
            display: flex;
        }
    </style>
{% endif %}

{% schema %}
{
    "name": "Product Video",
    "settings": [
      {
        "type": "text",
        "id": "video_heading",
        "label": "Heading"
      },
      {
        "type": "richtext",
        "id": "video_subheading",
        "label": "Subheading"
      },
      {
        "type": "image_picker",
        "id": "video_image",
        "label": "Image"
      },
      {
        "type": "range",
        "id": "video_opacity_overlay",
        "label": "Opacity Overlay",
        "min": 0,
        "max": 100,
        "step": 10,
        "default": 60,
        "unit": "%"
      },
      {
        "type": "color",
        "id": "video_color_overlay",
        "label": "Color overlay",
        "default": "#000000"
      },
      {
        "type": "color",
        "id": "video_color_text",
        "label": "Text color",
        "default": "#ffffff"
      }
    ],
    "presets": [
        {   
            "name": "Product Video",
            "settings": {}
        }
    ], 
    "templates": ["product"]
  }
{% endschema %}